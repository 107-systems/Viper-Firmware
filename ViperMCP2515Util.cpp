/* This sketch contains the firmware for the MKR VIDOR 4000
 * based quadcopter flight controller codename 'Viper'.
 */

/**************************************************************************************
 * INCLUDE
 **************************************************************************************/

#include "ViperMCP2515Util.h"

#include <Arduino.h>

#include <ArduinoMCP2515.h>

#include "ViperConst.h"

/**************************************************************************************
 * EXTERN DECLARATION
 **************************************************************************************/

extern ArduinoMCP2515 mcp2515;

/**************************************************************************************
 * NAMESPACE
 **************************************************************************************/

namespace viper
{

/**************************************************************************************
 * FUNCTION DEFINITION
 **************************************************************************************/

void mcp2515_spi_select()
{
  digitalWrite(MCP2515_CS_PIN, LOW);
}

void mcp2515_spi_deselect()
{
  digitalWrite(MCP2515_CS_PIN, HIGH);
}

void mcp2515_onExternalEvent()
{
  mcp2515.onExternalEventHandler();
}

/**************************************************************************************
 * NAMESPACE
 **************************************************************************************/

} /* viper */
